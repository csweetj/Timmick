<header class="mb-4">
  <nav class="flex flex-wrap items-center justify-around px-3 py-3 text-gray-700 lg:px-10">
    <div class="flex items-center mr-6 flex-no-shrink">
      <%= link_to "Timmick", root_path, class:"link text-2xl tracking-tight font-semibold" %>
    </div>
    <div>
    </div>
    
    <div class="">
      <% if user_signed_in? %>
        <% if current_user.avatar.present?%>
          <%= link_to "/users/#{current_user.id}", title: "ユーザーページへ" do %>
            <%= image_tag current_user.avatar, class:"p-2 mx-auto w-24 h-24 rounded-full flex-shrink-0 object-cover object-center"%>
          <% end %>
        <% else %>
          <%= link_to "/users/#{current_user.id}", title: "ユーザーページへ" do %>
            <img alt="user" src="/assets/user.jpeg" class="p-2 mx-auto w-16 h-16 rounded-full flex-shrink-0 object-cover object-center">
          <% end %>
        <% end %>
      <% end %>
    </div>
    
    <div class="">
      <div class="inline-flex relative text-gray-600 mr-6">
        <%= search_form_for @search, url: posts_path do |f|  %>
          <%= f.text_field :title_or_body_cont ,placeholder: '投稿を検索...', class:"bg-gray-100 border-solid border-indigo-700 h-10 px-5 pr-10 rounded-full focus:outline-none" %>
          <button class="absolute right-0 top-0 mt-3 mr-4 hover:text-green-500">
            <%= f.submit class: 'absolute right-0 top-0 mt-3 mr-4 hidden'%>
            <svg class="h-4 w-4 fill-current" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 56.966 56.966" style="enable-background:new 0 0 56.966 56.966;" xml:space="preserve" width="512px" height="512px">
              <path d="M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z"/>
            </svg>          
          </button>
        <% end %>
      </div>
      <span>
        <% if user_signed_in? %>
          <%= link_to edit_user_registration_path, class: "mr-3 inline-flex items-center lg:ml-auto md:ml-0 ml-auto leading-none text-xl pr-3 py-1 hover:text-blue-400", title: "ユーザー編集" do %>
            <i class="fas fa-user-edit"></i>
          <% end %>
          <%= link_to destroy_user_session_path, method: :delete, class:"inline-flex items-center leading-none text-xl hover:text-red-500", title: "ログアウト" do %>
            <i class="fas fa-sign-out-alt"></i>
          <% end %>
        <% else %>
          <%= link_to 'ゲストログイン', users_guest_sign_in_path, method: :post, class:"mr-3 inline-flex items-center lg:ml-auto md:ml-0 ml-auto leading-none pr-3 py-1 btn btn-white" %>
          <%= link_to new_user_registration_path, class:"mr-3 inline-flex items-center lg:ml-auto md:ml-0 ml-auto leading-none text-xl pr-3 py-1 hover:text-blue-400", title: "ユーザー登録" do %>
            <i class="fas fa-user-plus"></i>
          <% end %>
          <%= link_to new_user_session_path, class:"inline-flex items-center leading-none text-xl hover:text-green-400", title: "ログイン" do %>
            <i class="fas fa-sign-in-alt"></i>
          <% end %>
        <% end %>
      </span>
    </div>
  </nav>
</header>
