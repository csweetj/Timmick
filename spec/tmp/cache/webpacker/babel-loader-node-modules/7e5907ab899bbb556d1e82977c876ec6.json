{"ast":null,"code":"if (document.URL.match(/relax/)) {\n  var timer = function timer() {\n    //タイマー機能\n    var BoxBreathingTimer = document.getElementById('BoxBreathingTimer');\n    var BoxBreathingStart = document.getElementById('BoxBreathingStart');\n    var RemSleepTimer = document.getElementById('RemSleepTimer');\n    var RemSleepStart = document.getElementById('RemSleepStart');\n    var startTime;\n    var timeLeft;\n    var BoxBreathingTimeToCountDown = 4 * 1000;\n    var RemSleepTimeToCountDown = 15 * 60 * 1000;\n    var timerId;\n    var isRunning = false;\n    var isBreathing = true;\n    var isPausing = false;\n\n    function BoxBreathingUpdateTimer(t) {\n      var d = new Date(t);\n      var m = d.getMinutes();\n      var s = d.getSeconds();\n      var timerString;\n      m = ('0' + m).slice(-2);\n      s = ('0' + s).slice(-2);\n      timerString = m + ':' + s;\n      BoxBreathingTimer.textContent = timerString;\n      document.title = timerString;\n    }\n\n    function RemSleepUpdateTimer(t) {\n      var d = new Date(t);\n      var m = d.getMinutes();\n      var s = d.getSeconds();\n      var timerString;\n      m = ('0' + m).slice(-2);\n      s = ('0' + s).slice(-2);\n      timerString = m + ':' + s;\n      RemSleepTimer.textContent = timerString;\n      document.title = timerString;\n    }\n\n    function BoxBreathingCountDown() {\n      timerId = setTimeout(function () {\n        timeLeft = BoxBreathingTimeToCountDown - (Date.now() - startTime);\n\n        if (timeLeft < 0) {\n          isRunning = false;\n          BoxBreathingStart.textContent = 'Start';\n          clearTimeout(timerId);\n          timeLeft = 0;\n          BoxBreathingTimeToCountDown = 0;\n          BoxBreathingUpdateTimer(timeLeft);\n          document.getElementById('BoxBreathingOpen').click();\n          return;\n        }\n\n        BoxBreathingUpdateTimer(timeLeft);\n        BoxBreathingCountDown();\n      }, 10);\n    }\n\n    function RemSleepCountDown() {\n      timerId = setTimeout(function () {\n        timeLeft = RemSleepTimeToCountDown - (Date.now() - startTime);\n\n        if (timeLeft < 0) {\n          isRunning = false;\n          RemSleepStart.textContent = 'Start';\n          clearTimeout(timerId);\n          timeLeft = 0;\n          RemSleepTimeToCountDown = 0;\n          RemSleepUpdateTimer(timeLeft);\n          document.getElementById('RemSleepOpen').click();\n          return;\n        }\n\n        RemSleepUpdateTimer(timeLeft);\n        RemSleepCountDown();\n      }, 10);\n    }\n\n    BoxBreathingStart.addEventListener('click', function () {\n      if (isRunning === false) {\n        isRunning = true;\n        isPausing = false;\n        BoxBreathingStart.textContent = 'Stop';\n        RemSleepMenu.classList.add('pointer-events-none', 'opacity-50');\n        startTime = Date.now();\n        BoxBreathingCountDown();\n\n        if (isBreathing === true && isPausing === false) {\n          BoxBreathingProgressing.animate(1, {\n            duration: 4 * 1000\n          });\n          isPausing = true;\n        } else if (isBreathing === false && isPausing === false) {\n          BoxProgressing.animate(0, {\n            duration: 4 * 1000\n          });\n          isPausing = true;\n        } else {\n          BoxBreathingProgressing.resume();\n        }\n      } else {\n        isRunning = false;\n        BoxBreathingStart.textContent = 'Start';\n        RemSleepMenu.classList.remove('pointer-events-none', 'opacity-50');\n        BoxBreathingTimeToCountDown = timeLeft;\n        clearTimeout(timerId);\n        BoxBreathingProgressing.pause();\n      }\n    });\n    RemSleepStart.addEventListener('click', function () {\n      if (isRunning === false) {\n        isRunning = true;\n        RemSleepStart.textContent = 'Stop';\n        BoxBreathingMenu.classList.add('pointer-events-none', 'opacity-50');\n        startTime = Date.now();\n        RemSleepCountDown();\n      } else {\n        isRunning = false;\n        RemSleepStart.textContent = 'Start';\n        BoxBreathingMenu.classList.remove('pointer-events-none', 'opacity-50');\n        RemSleepTimeToCountDown = timeLeft;\n        clearTimeout(timerId);\n      }\n    }); //  min.addEventListener('click', () => {\n    //    if (isRunning === true) {\n    //      return;\n    //    }\n    //    timeToCountDown += 60 * 1000;\n    //    if (timeToCountDown >= 60 * 60 * 1000) {\n    //     timeToCountDown = 0;\n    //   }\n    //    updateTimer(timeToCountDown);\n    //  });\n    //  sec.addEventListener('click', () => {\n    //   if (isRunning === true) {\n    //     return;\n    //   }\n    //    timeToCountDown += 1000;\n    //    if (timeToCountDown >= 60 * 60 * 1000) {\n    //      timeToCountDown = 0;\n    //    }\n    //    updateTimer(timeToCountDown);\n    //  });\n    // Reset.addEventListener('click', () => {\n    //   timeToCountDown = 25 * 60 * 1000;\n    //   updateTimer(timeToCountDown);\n    // });\n    //モーダルウィンドウ \n    //ボックス呼吸法\n\n    var BoxBreathingOpen = document.getElementById('BoxBreathingOpen');\n    var BoxBreathingRest = document.getElementById('BoxBreathingRest');\n    var BoxBreathingKeep = document.getElementById('BoxBreathingKeep');\n    BoxBreathingOpen.addEventListener('click', function () {\n      if (isBreathing === true) {\n        document.getElementById('BoxBreathingKeep').click();\n      } else {\n        document.getElementById('BoxBreathingRest').click();\n      }\n    });\n    BoxBreathingKeep.addEventListener('click', function () {\n      isBreathing = true;\n      isPausing = false;\n      BoxBreathingTimeToCountDown = 4 * 1000;\n      BoxBreathingTimer.textContent = \"00:04\";\n      BoxBreathingProgressing.set(0);\n      document.getElementById('BoxBreathingStart').click();\n    });\n    BoxBreathingRest.addEventListener('click', function () {\n      isBreathing = false;\n      isPausing = false;\n      BoxBreathingTimeToCountDown = 4 * 1000;\n      BoxBreathingTimer.textContent = \"00:04\";\n      BoxBreathingProgressing.set(1);\n      document.getElementById('BoxBreathingStart').click();\n    }); //レム仮眠・昼寝\n\n    var RemSleepOpen = document.getElementById('RemSleepOpen');\n    var RemSleepRest = document.getElementById('RemSleepRest');\n    var RemSleepKeep = document.getElementById('RemSleepKeep');\n    var RemSleepModal = document.getElementById('RemSleepModal');\n    var RemSleepMask = document.getElementById('RemSleepMask');\n\n    function RemSleepRemoveModalWindow() {\n      RemSleepMask.classList.add('hidden');\n      RemSleepModal.classList.add('hidden');\n    }\n\n    RemSleepOpen.addEventListener('click', function () {\n      RemSleepMask.classList.remove('hidden');\n      RemSleepModal.classList.remove('hidden');\n    });\n    RemSleepRest.addEventListener('click', function () {\n      RemSleepRemoveModalWindow();\n      RemSleepTimeToCountDown = 15 * 60 * 1000;\n      RemSleepTimer.textContent = \"15:00\";\n    });\n    RemSleepKeep.addEventListener('click', function () {\n      RemSleepRemoveModalWindow();\n      RemSleepTimeToCountDown = 15 * 60 * 1000;\n      document.getElementById('RemSleepStart').click();\n    });\n    RemSleepMask.addEventListener('click', function () {\n      RemSleepRemoveModalWindow();\n      RemSleepTimeToCountDown = 15 * 60 * 1000;\n      RemSleepTimer.textContent = \"15:00\";\n    }); //タブメニュー\n\n    var BoxBreathingMenu = document.getElementById('BoxBreathingMenu');\n    var RemSleepMenu = document.getElementById('RemSleepMenu');\n    var BoxBreathing = document.getElementById('BoxBreathing');\n    var RemSleep = document.getElementById('RemSleep');\n    BoxBreathingMenu.addEventListener('click', function (e) {\n      e.preventDefault();\n      RemSleep.classList.add('hidden');\n      RemSleepMenu.classList.remove('bg-green-400');\n      RemSleepMenu.classList.add('text-green-400');\n      BoxBreathing.classList.remove('hidden');\n      BoxBreathingMenu.classList.remove('text-green-600');\n      BoxBreathingMenu.classList.add('bg-green-600');\n      BoxBreathingMenu.classList.add('text-white');\n    });\n    RemSleepMenu.addEventListener('click', function (e) {\n      e.preventDefault();\n      BoxBreathing.classList.add('hidden');\n      BoxBreathingMenu.classList.add('text-green-600');\n      BoxBreathingMenu.classList.remove('bg-green-600');\n      RemSleep.classList.remove('hidden');\n      RemSleepMenu.classList.remove('text-green-400');\n      RemSleepMenu.classList.add('bg-green-400');\n      RemSleepMenu.classList.add('text-white');\n    }); //プログレスバー\n\n    var BoxBreathingProgressing = new ProgressBar.SemiCircle(BoxBreathingBar, {\n      strokeWidth: 1.5,\n      easing: 'linear',\n      color: '#FFEA82',\n      trailColor: '#eee',\n      trailWidth: 0.8,\n      svgStyle: null\n    });\n    var RemSleepProgressing = new ProgressBar.SemiCircle(RemSleepBar, {\n      strokeWidth: 1.5,\n      easing: 'linear',\n      color: '#FFEA82',\n      trailColor: '#eee',\n      trailWidth: 0.8,\n      svgStyle: null\n    });\n  };\n\n  window.addEventListener('load', timer);\n}","map":{"version":3,"sources":["/Users/joe/My_app/Timmick/app/javascript/Timers/relax_timer.js"],"names":["document","URL","match","timer","BoxBreathingTimer","getElementById","BoxBreathingStart","RemSleepTimer","RemSleepStart","startTime","timeLeft","BoxBreathingTimeToCountDown","RemSleepTimeToCountDown","timerId","isRunning","isBreathing","isPausing","BoxBreathingUpdateTimer","t","d","Date","m","getMinutes","s","getSeconds","timerString","slice","textContent","title","RemSleepUpdateTimer","BoxBreathingCountDown","setTimeout","now","clearTimeout","click","RemSleepCountDown","addEventListener","RemSleepMenu","classList","add","BoxBreathingProgressing","animate","duration","BoxProgressing","resume","remove","pause","BoxBreathingMenu","BoxBreathingOpen","BoxBreathingRest","BoxBreathingKeep","set","RemSleepOpen","RemSleepRest","RemSleepKeep","RemSleepModal","RemSleepMask","RemSleepRemoveModalWindow","BoxBreathing","RemSleep","e","preventDefault","ProgressBar","SemiCircle","BoxBreathingBar","strokeWidth","easing","color","trailColor","trailWidth","svgStyle","RemSleepProgressing","RemSleepBar","window"],"mappings":"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","sourcesContent":["if (document.URL.match( /relax/ )) {\n  function timer() {\n    \n    //タイマー機能\n    const BoxBreathingTimer = document.getElementById('BoxBreathingTimer');\n    const BoxBreathingStart = document.getElementById('BoxBreathingStart');\n    const RemSleepTimer = document.getElementById('RemSleepTimer');\n    const RemSleepStart = document.getElementById('RemSleepStart');\n\n    let startTime;\n    let timeLeft;\n    let BoxBreathingTimeToCountDown = 4 * 1000;\n    let RemSleepTimeToCountDown = 15 * 60 * 1000;\n    let timerId;\n    let isRunning = false;\n    let isBreathing = true;\n    let isPausing = false;\n  \n    function BoxBreathingUpdateTimer(t) {\n      let d = new Date(t);\n      let m = d.getMinutes();\n      let s = d.getSeconds();\n      let timerString;\n      m = ('0' + m).slice(-2);\n      s = ('0' + s).slice(-2);\n      timerString = m + ':' + s; \n      BoxBreathingTimer.textContent = timerString;\n      document.title = timerString;\n    }\n\n    function RemSleepUpdateTimer(t) {\n      let d = new Date(t);\n      let m = d.getMinutes();\n      let s = d.getSeconds();\n      let timerString;\n      m = ('0' + m).slice(-2);\n      s = ('0' + s).slice(-2);\n      timerString = m + ':' + s; \n      RemSleepTimer.textContent = timerString;\n      document.title = timerString;\n    }\n  \n    function BoxBreathingCountDown() {\n      timerId = setTimeout(function() {\n        timeLeft = BoxBreathingTimeToCountDown - (Date.now() - startTime);\n        if (timeLeft < 0) {\n          isRunning = false;\n          BoxBreathingStart.textContent = 'Start';\n          clearTimeout(timerId);\n          timeLeft = 0;\n          BoxBreathingTimeToCountDown = 0;\n          BoxBreathingUpdateTimer(timeLeft);\n          document.getElementById('BoxBreathingOpen').click();\n          return;\n        }\n        BoxBreathingUpdateTimer(timeLeft);\n        BoxBreathingCountDown();\n      }, 10);\n    }\n    \n    function RemSleepCountDown() {\n      timerId = setTimeout(function() {\n        timeLeft = RemSleepTimeToCountDown - (Date.now() - startTime);\n        if (timeLeft < 0) {\n          isRunning = false;\n          RemSleepStart.textContent = 'Start';\n          clearTimeout(timerId);\n          timeLeft = 0;\n          RemSleepTimeToCountDown = 0;\n          RemSleepUpdateTimer(timeLeft);\n          document.getElementById('RemSleepOpen').click();\n          return;\n        }\n        RemSleepUpdateTimer(timeLeft);\n        RemSleepCountDown();\n      }, 10);\n    }\n  \n  \n    BoxBreathingStart.addEventListener('click', () => {\n      if (isRunning === false) {\n        isRunning = true;\n        isPausing = false;\n        BoxBreathingStart.textContent = 'Stop';\n        RemSleepMenu.classList.add('pointer-events-none', 'opacity-50');\n        startTime = Date.now();\n        BoxBreathingCountDown();\n        if (isBreathing === true && isPausing === false) {\n          BoxBreathingProgressing.animate(1, {duration: 4 * 1000});\n          isPausing = true;\n        } else if (isBreathing === false && isPausing === false) {\n          BoxProgressing.animate(0, {duration: 4 * 1000});\n          isPausing = true;\n        } else {\n          BoxBreathingProgressing.resume();\n        }\n      } else {\n        isRunning = false;\n        BoxBreathingStart.textContent = 'Start';\n        RemSleepMenu.classList.remove('pointer-events-none', 'opacity-50');\n        BoxBreathingTimeToCountDown = timeLeft;\n        clearTimeout(timerId);\n        BoxBreathingProgressing.pause();\n      }\n    });\n\n    RemSleepStart.addEventListener('click', () => {\n      if (isRunning === false) {\n        isRunning = true;\n        RemSleepStart.textContent = 'Stop';\n        BoxBreathingMenu.classList.add('pointer-events-none', 'opacity-50');\n        startTime = Date.now();\n        RemSleepCountDown();\n      } else {\n        isRunning = false;\n        RemSleepStart.textContent = 'Start';\n        BoxBreathingMenu.classList.remove('pointer-events-none', 'opacity-50');\n        RemSleepTimeToCountDown = timeLeft;\n        clearTimeout(timerId);\n      }\n    });\n   \n  //  min.addEventListener('click', () => {\n  //    if (isRunning === true) {\n  //      return;\n  //    }\n  //    timeToCountDown += 60 * 1000;\n  //    if (timeToCountDown >= 60 * 60 * 1000) {\n  //     timeToCountDown = 0;\n  //   }\n  //    updateTimer(timeToCountDown);\n  //  });\n   \n  //  sec.addEventListener('click', () => {\n  //   if (isRunning === true) {\n  //     return;\n  //   }\n  //    timeToCountDown += 1000;\n  //    if (timeToCountDown >= 60 * 60 * 1000) {\n  //      timeToCountDown = 0;\n  //    }\n  //    updateTimer(timeToCountDown);\n  //  });\n   \n    // Reset.addEventListener('click', () => {\n    //   timeToCountDown = 25 * 60 * 1000;\n    //   updateTimer(timeToCountDown);\n    // });\n\n   \n    //モーダルウィンドウ \n    //ボックス呼吸法\n    const BoxBreathingOpen = document.getElementById('BoxBreathingOpen');\n    const BoxBreathingRest = document.getElementById('BoxBreathingRest');\n    const BoxBreathingKeep = document.getElementById('BoxBreathingKeep');\n  \n\n    BoxBreathingOpen.addEventListener('click', () => {\n      if (isBreathing === true) {\n        document.getElementById('BoxBreathingKeep').click();\n      } else {\n        document.getElementById('BoxBreathingRest').click();\n      }\n    });\n\n    BoxBreathingKeep.addEventListener('click', () => {\n      isBreathing = true;\n      isPausing = false;\n      BoxBreathingTimeToCountDown = 4 * 1000;\n      BoxBreathingTimer.textContent = \"00:04\";\n      BoxBreathingProgressing.set(0);\n      document.getElementById('BoxBreathingStart').click();\n    });\n    \n    BoxBreathingRest.addEventListener('click', () => {\n      isBreathing = false;\n      isPausing = false;\n      BoxBreathingTimeToCountDown = 4 * 1000;\n      BoxBreathingTimer.textContent = \"00:04\";\n      BoxBreathingProgressing.set(1);\n      document.getElementById('BoxBreathingStart').click();\n    });\n\n    //レム仮眠・昼寝\n    const RemSleepOpen = document.getElementById('RemSleepOpen');\n    const RemSleepRest = document.getElementById('RemSleepRest');\n    const RemSleepKeep = document.getElementById('RemSleepKeep');\n    const RemSleepModal = document.getElementById('RemSleepModal');\n    const RemSleepMask = document.getElementById('RemSleepMask');\n\n    function RemSleepRemoveModalWindow() {\n      RemSleepMask.classList.add('hidden');\n      RemSleepModal.classList.add('hidden');\n    }\n\n    RemSleepOpen.addEventListener('click', () => {\n      RemSleepMask.classList.remove('hidden');\n      RemSleepModal.classList.remove('hidden');\n    });\n\n    RemSleepRest.addEventListener('click', () => {\n      RemSleepRemoveModalWindow();\n      RemSleepTimeToCountDown = 15 * 60 * 1000;\n      RemSleepTimer.textContent = \"15:00\";\n    });\n\n    RemSleepKeep.addEventListener('click', () => {\n      RemSleepRemoveModalWindow();\n      RemSleepTimeToCountDown = 15 * 60 * 1000;\n      document.getElementById('RemSleepStart').click();\n    });\n\n    RemSleepMask.addEventListener('click', () => {\n      RemSleepRemoveModalWindow();\n      RemSleepTimeToCountDown = 15 * 60 * 1000;\n      RemSleepTimer.textContent = \"15:00\";\n    });\n\n\n\n    //タブメニュー\n    const BoxBreathingMenu = document.getElementById('BoxBreathingMenu');\n    const RemSleepMenu = document.getElementById('RemSleepMenu');\n    const BoxBreathing = document.getElementById('BoxBreathing');\n    const RemSleep = document.getElementById('RemSleep');\n\n    BoxBreathingMenu.addEventListener('click', (e) => {\n      e.preventDefault();\n      RemSleep.classList.add('hidden');\n      RemSleepMenu.classList.remove('bg-green-400');\n      RemSleepMenu.classList.add('text-green-400');\n      BoxBreathing.classList.remove('hidden');\n      BoxBreathingMenu.classList.remove('text-green-600');\n      BoxBreathingMenu.classList.add('bg-green-600');\n      BoxBreathingMenu.classList.add('text-white');\n    });\n    \n    RemSleepMenu.addEventListener('click', (e) => {\n      e.preventDefault();\n      BoxBreathing.classList.add('hidden');\n      BoxBreathingMenu.classList.add('text-green-600');\n      BoxBreathingMenu.classList.remove('bg-green-600');\n      RemSleep.classList.remove('hidden');\n      RemSleepMenu.classList.remove('text-green-400');\n      RemSleepMenu.classList.add('bg-green-400');\n      RemSleepMenu.classList.add('text-white');\n    });\n\n    //プログレスバー\n    const BoxBreathingProgressing = new ProgressBar.SemiCircle(BoxBreathingBar, {\n      strokeWidth: 1.5,\n      easing: 'linear',\n      color: '#FFEA82',\n      trailColor: '#eee',\n      trailWidth: 0.8,\n      svgStyle: null\n    });\n    \n    const RemSleepProgressing = new ProgressBar.SemiCircle(RemSleepBar, {\n      strokeWidth: 1.5,\n      easing: 'linear',\n      color: '#FFEA82',\n      trailColor: '#eee',\n      trailWidth: 0.8,\n      svgStyle: null\n    });    \n  }\n  \n  window.addEventListener('load', timer)\n}"]},"metadata":{},"sourceType":"module"}