{"ast":null,"code":"/*!\n * jScroll - jQuery Plugin for Infinite Scrolling / Auto-Paging\n * @see @link{https://jscroll.com}\n *\n * @copyright Philip Klauzinski\n * @license Dual licensed under the MIT and GPL Version 2 licenses\n * @author Philip Klauzinski (https://webtopian.com)\n * @version 2.4.1\n * @requires jQuery v1.8.0+\n * @preserve\n */\n!function (m) {\n  \"use strict\";\n\n  m.jscroll = {\n    defaults: {\n      debug: !1,\n      autoTrigger: !0,\n      autoTriggerUntil: !1,\n      loadingHtml: \"<small>Loading...</small>\",\n      loadingFunction: !1,\n      padding: 0,\n      nextSelector: \"a:last\",\n      contentSelector: \"\",\n      pagingSelector: \"\",\n      callback: !1\n    }\n  };\n\n  var l = function l(a, t) {\n    var n,\n        e = a.data(\"jscroll\"),\n        l = \"function\" == typeof t ? {\n      callback: t\n    } : t,\n        s = m.extend({}, m.jscroll.defaults, l, e || {}),\n        d = \"visible\" === a.css(\"overflow-y\"),\n        o = a.find(s.nextSelector).first(),\n        r = m(window),\n        i = m(\"body\"),\n        f = d ? r : a,\n        c = m.trim(o.prop(\"href\") + \" \" + s.contentSelector),\n        g = function g() {\n      a.find(\".jscroll-inner\").length || a.contents().wrapAll('<div class=\"jscroll-inner\" />');\n    },\n        u = function u(t) {\n      s.pagingSelector ? t.closest(s.pagingSelector).hide() : t.parent().not(\".jscroll-inner,.jscroll-added\").addClass(\"jscroll-next-parent\").hide().length || t.wrap('<div class=\"jscroll-next-parent\" />').parent().hide();\n    },\n        p = function p() {\n      return f.unbind(\".jscroll\").removeData(\"jscroll\").find(\".jscroll-inner\").children().unwrap().filter(\".jscroll-added\").children().unwrap();\n    },\n        j = function j() {\n      if (a.is(\":visible\")) {\n        g();\n        var t = a.find(\"div.jscroll-inner\").first(),\n            n = a.data(\"jscroll\"),\n            e = parseInt(a.css(\"borderTopWidth\"), 10),\n            l = isNaN(e) ? 0 : e,\n            o = parseInt(a.css(\"paddingTop\"), 10) + l,\n            r = d ? f.scrollTop() : a.offset().top,\n            i = t.length ? t.offset().top : 0,\n            c = Math.ceil(r - i + f.height() + o);\n        if (!n.waiting && c + s.padding >= t.outerHeight()) return b(\"info\", \"jScroll:\", t.outerHeight() - c, \"from bottom. Loading next request...\"), v();\n      }\n    },\n        h = function h() {\n      var t = a.find(s.nextSelector).first();\n      if (t.length) if (s.autoTrigger && (!1 === s.autoTriggerUntil || 0 < s.autoTriggerUntil)) {\n        u(t);\n        var n = i.height() - a.offset().top;\n        (a.height() < n ? a.height() : n) <= (0 < a.offset().top - r.scrollTop() ? r.height() - (a.offset().top - m(window).scrollTop()) : r.height()) && j(), f.unbind(\".jscroll\").bind(\"scroll.jscroll\", function () {\n          return j();\n        }), 0 < s.autoTriggerUntil && s.autoTriggerUntil--;\n      } else f.unbind(\".jscroll\"), t.bind(\"click.jscroll\", function () {\n        return u(t), v(), !1;\n      });\n    },\n        v = function v() {\n      var t = a.find(\"div.jscroll-inner\").first(),\n          r = a.data(\"jscroll\");\n      return r.waiting = !0, t.append('<div class=\"jscroll-added\" />').children(\".jscroll-added\").last().html('<div class=\"jscroll-loading\" id=\"jscroll-loading\">' + s.loadingHtml + \"</div>\").promise().done(function () {\n        s.loadingFunction && s.loadingFunction();\n      }), a.animate({\n        scrollTop: t.outerHeight()\n      }, 0, function () {\n        var o = r.nextHref;\n        t.find(\"div.jscroll-added\").last().load(o, function (t, n) {\n          if (\"error\" === n) return p();\n          var e,\n              l = m(this).find(s.nextSelector).first();\n          r.waiting = !1, r.nextHref = !!l.prop(\"href\") && m.trim(l.prop(\"href\") + \" \" + s.contentSelector), m(\".jscroll-next-parent\", a).remove(), (e = e || a.data(\"jscroll\")) && e.nextHref ? h() : (b(\"warn\", \"jScroll: nextSelector not found - destroying\"), p()), s.callback && s.callback.call(this, o), b(\"dir\", r);\n        });\n      });\n    },\n        b = function b(t) {\n      if (s.debug && \"object\" == typeof console && (\"object\" == typeof t || \"function\" == typeof console[t])) if (\"object\" == typeof t) {\n        var n = [];\n\n        for (var e in t) {\n          \"function\" == typeof console[e] ? (n = t[e].length ? t[e] : [t[e]], console[e].apply(console, n)) : console.log.apply(console, n);\n        }\n      } else console[t].apply(console, Array.prototype.slice.call(arguments, 1));\n    };\n\n    return a.data(\"jscroll\", m.extend({}, e, {\n      initialized: !0,\n      waiting: !1,\n      nextHref: c\n    })), g(), (n = m(s.loadingHtml).filter(\"img\").attr(\"src\")) && (new Image().src = n), h(), m.extend(a.jscroll, {\n      destroy: p\n    }), a;\n  };\n\n  m.fn.jscroll = function (e) {\n    return this.each(function () {\n      var t = m(this),\n          n = t.data(\"jscroll\");\n      n && n.initialized || l(t, e);\n    });\n  };\n}(jQuery);","map":{"version":3,"sources":["/Users/joe/My_app/Timmick/app/javascript/jquery.jscroll.min.js"],"names":["m","jscroll","defaults","debug","autoTrigger","autoTriggerUntil","loadingHtml","loadingFunction","padding","nextSelector","contentSelector","pagingSelector","callback","l","a","t","n","e","data","s","extend","d","css","o","find","first","r","window","i","f","c","trim","prop","g","length","contents","wrapAll","u","closest","hide","parent","not","addClass","wrap","p","unbind","removeData","children","unwrap","filter","j","is","parseInt","isNaN","scrollTop","offset","top","Math","ceil","height","waiting","outerHeight","b","v","h","bind","append","last","html","promise","done","animate","nextHref","load","remove","call","console","apply","log","Array","prototype","slice","arguments","initialized","attr","Image","src","destroy","fn","each","jQuery"],"mappings":"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","sourcesContent":["/*!\n * jScroll - jQuery Plugin for Infinite Scrolling / Auto-Paging\n * @see @link{https://jscroll.com}\n *\n * @copyright Philip Klauzinski\n * @license Dual licensed under the MIT and GPL Version 2 licenses\n * @author Philip Klauzinski (https://webtopian.com)\n * @version 2.4.1\n * @requires jQuery v1.8.0+\n * @preserve\n */\n!function(m){\"use strict\";m.jscroll={defaults:{debug:!1,autoTrigger:!0,autoTriggerUntil:!1,loadingHtml:\"<small>Loading...</small>\",loadingFunction:!1,padding:0,nextSelector:\"a:last\",contentSelector:\"\",pagingSelector:\"\",callback:!1}};var l=function(a,t){var n,e=a.data(\"jscroll\"),l=\"function\"==typeof t?{callback:t}:t,s=m.extend({},m.jscroll.defaults,l,e||{}),d=\"visible\"===a.css(\"overflow-y\"),o=a.find(s.nextSelector).first(),r=m(window),i=m(\"body\"),f=d?r:a,c=m.trim(o.prop(\"href\")+\" \"+s.contentSelector),g=function(){a.find(\".jscroll-inner\").length||a.contents().wrapAll('<div class=\"jscroll-inner\" />')},u=function(t){s.pagingSelector?t.closest(s.pagingSelector).hide():t.parent().not(\".jscroll-inner,.jscroll-added\").addClass(\"jscroll-next-parent\").hide().length||t.wrap('<div class=\"jscroll-next-parent\" />').parent().hide()},p=function(){return f.unbind(\".jscroll\").removeData(\"jscroll\").find(\".jscroll-inner\").children().unwrap().filter(\".jscroll-added\").children().unwrap()},j=function(){if(a.is(\":visible\")){g();var t=a.find(\"div.jscroll-inner\").first(),n=a.data(\"jscroll\"),e=parseInt(a.css(\"borderTopWidth\"),10),l=isNaN(e)?0:e,o=parseInt(a.css(\"paddingTop\"),10)+l,r=d?f.scrollTop():a.offset().top,i=t.length?t.offset().top:0,c=Math.ceil(r-i+f.height()+o);if(!n.waiting&&c+s.padding>=t.outerHeight())return b(\"info\",\"jScroll:\",t.outerHeight()-c,\"from bottom. Loading next request...\"),v()}},h=function(){var t=a.find(s.nextSelector).first();if(t.length)if(s.autoTrigger&&(!1===s.autoTriggerUntil||0<s.autoTriggerUntil)){u(t);var n=i.height()-a.offset().top;(a.height()<n?a.height():n)<=(0<a.offset().top-r.scrollTop()?r.height()-(a.offset().top-m(window).scrollTop()):r.height())&&j(),f.unbind(\".jscroll\").bind(\"scroll.jscroll\",function(){return j()}),0<s.autoTriggerUntil&&s.autoTriggerUntil--}else f.unbind(\".jscroll\"),t.bind(\"click.jscroll\",function(){return u(t),v(),!1})},v=function(){var t=a.find(\"div.jscroll-inner\").first(),r=a.data(\"jscroll\");return r.waiting=!0,t.append('<div class=\"jscroll-added\" />').children(\".jscroll-added\").last().html('<div class=\"jscroll-loading\" id=\"jscroll-loading\">'+s.loadingHtml+\"</div>\").promise().done(function(){s.loadingFunction&&s.loadingFunction()}),a.animate({scrollTop:t.outerHeight()},0,function(){var o=r.nextHref;t.find(\"div.jscroll-added\").last().load(o,function(t,n){if(\"error\"===n)return p();var e,l=m(this).find(s.nextSelector).first();r.waiting=!1,r.nextHref=!!l.prop(\"href\")&&m.trim(l.prop(\"href\")+\" \"+s.contentSelector),m(\".jscroll-next-parent\",a).remove(),(e=e||a.data(\"jscroll\"))&&e.nextHref?h():(b(\"warn\",\"jScroll: nextSelector not found - destroying\"),p()),s.callback&&s.callback.call(this,o),b(\"dir\",r)})})},b=function(t){if(s.debug&&\"object\"==typeof console&&(\"object\"==typeof t||\"function\"==typeof console[t]))if(\"object\"==typeof t){var n=[];for(var e in t)\"function\"==typeof console[e]?(n=t[e].length?t[e]:[t[e]],console[e].apply(console,n)):console.log.apply(console,n)}else console[t].apply(console,Array.prototype.slice.call(arguments,1))};return a.data(\"jscroll\",m.extend({},e,{initialized:!0,waiting:!1,nextHref:c})),g(),(n=m(s.loadingHtml).filter(\"img\").attr(\"src\"))&&((new Image).src=n),h(),m.extend(a.jscroll,{destroy:p}),a};m.fn.jscroll=function(e){return this.each(function(){var t=m(this),n=t.data(\"jscroll\");n&&n.initialized||l(t,e)})}}(jQuery);"]},"metadata":{},"sourceType":"module"}