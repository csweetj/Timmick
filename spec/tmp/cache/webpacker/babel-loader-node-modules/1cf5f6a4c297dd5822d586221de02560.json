{"ast":null,"code":"if (document.URL.match(/study/)) {\n  var timer = function timer() {\n    //タイマー\n    var PomodoroTimer = document.getElementById('PomodoroTimer');\n    var PomodoroStart = document.getElementById('PomodoroStart');\n    var startTime;\n    var timeLeft;\n    var PomodoroTimeToCountDown = 2 * 1000;\n    var timerId;\n    var isRunning = false;\n\n    function PomodoroUpdateTimer(t) {\n      var d = new Date(t);\n      var m = d.getMinutes();\n      var s = d.getSeconds();\n      var timerString;\n      m = ('0' + m).slice(-2);\n      s = ('0' + s).slice(-2);\n      timerString = m + ':' + s;\n      PomodoroTimer.textContent = timerString;\n      document.title = timerString;\n    }\n\n    function PomodoroCountDown() {\n      timerId = setTimeout(function () {\n        timeLeft = PomodoroTimeToCountDown - (Date.now() - startTime);\n\n        if (timeLeft < 0) {\n          isRunning = false;\n          PomodoroStart.textContent = 'Start';\n          clearTimeout(timerId);\n          timeLeft = 0;\n          PomodoroTimeToCountDown = 0;\n          PomodoroUpdateTimer(timeLeft);\n          document.getElementById('PomodoroOpen').click();\n          return;\n        }\n\n        PomodoroUpdateTimer(timeLeft);\n        PomodoroCountDown();\n      }, 10);\n    }\n\n    PomodoroStart.addEventListener('click', function () {\n      if (isRunning === false) {\n        isRunning = true;\n        PomodoroStart.textContent = 'Stop';\n        startTime = Date.now();\n        PomodoroCountDown();\n      } else {\n        isRunning = false;\n        PomodoroStart.textContent = 'Start';\n        PomodoroTimeToCountDown = timeLeft;\n        clearTimeout(timerId);\n      }\n    }); //  min.addEventListener('click', () => {\n    //    if (isRunning === true) {\n    //      return;\n    //    }\n    //    timeToCountDown += 60 * 1000;\n    //    if (timeToCountDown >= 60 * 60 * 1000) {\n    //     timeToCountDown = 0;\n    //   }\n    //    updateTimer(timeToCountDown);\n    //  });\n    //  sec.addEventListener('click', () => {\n    //   if (isRunning === true) {\n    //     return;\n    //   }\n    //    timeToCountDown += 1000;\n    //    if (timeToCountDown >= 60 * 60 * 1000) {\n    //      timeToCountDown = 0;\n    //    }\n    //    updateTimer(timeToCountDown);\n    //  });\n    // reset.addEventListener('click', () => {\n    //   timeToCountDown = 25 * 60 * 1000;\n    //   updateTimer(timeToCountDown);\n    // });\n    //モーダルウィンドウ \n\n    var PomodoroOpen = document.getElementById('PomodoroOpen');\n    var PomodoroRest = document.getElementById('PomodoroRest');\n    var PomodoroKeep = document.getElementById('PomodoroKeep');\n    var PomodoroModal = document.getElementById('PomodoroModal');\n    var PomodoroMask = document.getElementById('PomodoroMask');\n\n    function removeModalWindow() {\n      PomodoroMask.classList.add('hidden');\n      PomodoroModal.classList.add('hidden');\n    }\n\n    PomodoroOpen.addEventListener('click', function () {\n      PomodoroMask.classList.remove('hidden');\n      PomodoroModal.classList.remove('hidden');\n    });\n    PomodoroRest.addEventListener('click', function () {\n      removeModalWindow();\n      PomodoroTimeToCountDown = 5 * 1000;\n      document.getElementById('PomodoroStart').click();\n    });\n    PomodoroKeep.addEventListener('click', function () {\n      removeModalWindow();\n      PomodoroTimeToCountDown = 2 * 1000;\n      document.getElementById('PomodoroStart').click();\n    }); //タブメニュー\n\n    var menuItems = document.querySelectorAll('.menu li a');\n    var contents = document.querySelectorAll('.content');\n    menuItems.forEach(function (clickedItem) {\n      clickedItem.addEventListener('click', function (e) {\n        e.preventDefault();\n        contents.forEach(function (content) {\n          content.classList.add('hidden');\n        });\n        document.getElementById(clickedItem.dataset.id).classList.remove('hidden');\n      });\n    });\n  };\n\n  window.addEventListener('load', timer);\n}","map":{"version":3,"sources":["/Users/joe/My_app/Timmick/app/javascript/study_timer.js"],"names":["document","URL","match","timer","PomodoroTimer","getElementById","PomodoroStart","startTime","timeLeft","PomodoroTimeToCountDown","timerId","isRunning","PomodoroUpdateTimer","t","d","Date","m","getMinutes","s","getSeconds","timerString","slice","textContent","title","PomodoroCountDown","setTimeout","now","clearTimeout","click","addEventListener","PomodoroOpen","PomodoroRest","PomodoroKeep","PomodoroModal","PomodoroMask","removeModalWindow","classList","add","remove","menuItems","querySelectorAll","contents","forEach","clickedItem","e","preventDefault","content","dataset","id","window"],"mappings":"AAAA,IAAIA,QAAQ,CAACC,GAAT,CAAaC,KAAb,CAAoB,OAApB,CAAJ,EAAmC;AAAA,MACxBC,KADwB,GACjC,SAASA,KAAT,GAAiB;AAEf;AACA,QAAMC,aAAa,GAAGJ,QAAQ,CAACK,cAAT,CAAwB,eAAxB,CAAtB;AACA,QAAMC,aAAa,GAAGN,QAAQ,CAACK,cAAT,CAAwB,eAAxB,CAAtB;AAEA,QAAIE,SAAJ;AACA,QAAIC,QAAJ;AACA,QAAIC,uBAAuB,GAAG,IAAI,IAAlC;AACA,QAAIC,OAAJ;AACA,QAAIC,SAAS,GAAG,KAAhB;;AAEA,aAASC,mBAAT,CAA6BC,CAA7B,EAAgC;AAC9B,UAAIC,CAAC,GAAG,IAAIC,IAAJ,CAASF,CAAT,CAAR;AACA,UAAIG,CAAC,GAAGF,CAAC,CAACG,UAAF,EAAR;AACA,UAAIC,CAAC,GAAGJ,CAAC,CAACK,UAAF,EAAR;AACA,UAAIC,WAAJ;AACAJ,MAAAA,CAAC,GAAG,CAAC,MAAMA,CAAP,EAAUK,KAAV,CAAgB,CAAC,CAAjB,CAAJ;AACAH,MAAAA,CAAC,GAAG,CAAC,MAAMA,CAAP,EAAUG,KAAV,CAAgB,CAAC,CAAjB,CAAJ;AACAD,MAAAA,WAAW,GAAGJ,CAAC,GAAG,GAAJ,GAAUE,CAAxB;AACAd,MAAAA,aAAa,CAACkB,WAAd,GAA4BF,WAA5B;AACApB,MAAAA,QAAQ,CAACuB,KAAT,GAAiBH,WAAjB;AACD;;AAED,aAASI,iBAAT,GAA6B;AAC3Bd,MAAAA,OAAO,GAAGe,UAAU,CAAC,YAAW;AAC9BjB,QAAAA,QAAQ,GAAGC,uBAAuB,IAAIM,IAAI,CAACW,GAAL,KAAanB,SAAjB,CAAlC;;AACA,YAAIC,QAAQ,GAAG,CAAf,EAAkB;AAChBG,UAAAA,SAAS,GAAG,KAAZ;AACAL,UAAAA,aAAa,CAACgB,WAAd,GAA4B,OAA5B;AACAK,UAAAA,YAAY,CAACjB,OAAD,CAAZ;AACAF,UAAAA,QAAQ,GAAG,CAAX;AACAC,UAAAA,uBAAuB,GAAG,CAA1B;AACAG,UAAAA,mBAAmB,CAACJ,QAAD,CAAnB;AACAR,UAAAA,QAAQ,CAACK,cAAT,CAAwB,cAAxB,EAAwCuB,KAAxC;AACA;AACD;;AACDhB,QAAAA,mBAAmB,CAACJ,QAAD,CAAnB;AACAgB,QAAAA,iBAAiB;AAClB,OAdmB,EAcjB,EAdiB,CAApB;AAeD;;AAGDlB,IAAAA,aAAa,CAACuB,gBAAd,CAA+B,OAA/B,EAAwC,YAAM;AAC5C,UAAIlB,SAAS,KAAK,KAAlB,EAAyB;AACvBA,QAAAA,SAAS,GAAG,IAAZ;AACAL,QAAAA,aAAa,CAACgB,WAAd,GAA4B,MAA5B;AACAf,QAAAA,SAAS,GAAGQ,IAAI,CAACW,GAAL,EAAZ;AACAF,QAAAA,iBAAiB;AAClB,OALD,MAKO;AACLb,QAAAA,SAAS,GAAG,KAAZ;AACAL,QAAAA,aAAa,CAACgB,WAAd,GAA4B,OAA5B;AACAb,QAAAA,uBAAuB,GAAGD,QAA1B;AACAmB,QAAAA,YAAY,CAACjB,OAAD,CAAZ;AACD;AACF,KAZD,EA3Ce,CAyDjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEE;AACA;AACA;AACA;AAGA;;AACA,QAAMoB,YAAY,GAAG9B,QAAQ,CAACK,cAAT,CAAwB,cAAxB,CAArB;AACA,QAAM0B,YAAY,GAAG/B,QAAQ,CAACK,cAAT,CAAwB,cAAxB,CAArB;AACA,QAAM2B,YAAY,GAAGhC,QAAQ,CAACK,cAAT,CAAwB,cAAxB,CAArB;AACA,QAAM4B,aAAa,GAAGjC,QAAQ,CAACK,cAAT,CAAwB,eAAxB,CAAtB;AACA,QAAM6B,YAAY,GAAGlC,QAAQ,CAACK,cAAT,CAAwB,cAAxB,CAArB;;AAEA,aAAS8B,iBAAT,GAA6B;AAC3BD,MAAAA,YAAY,CAACE,SAAb,CAAuBC,GAAvB,CAA2B,QAA3B;AACAJ,MAAAA,aAAa,CAACG,SAAd,CAAwBC,GAAxB,CAA4B,QAA5B;AACD;;AAEDP,IAAAA,YAAY,CAACD,gBAAb,CAA8B,OAA9B,EAAuC,YAAM;AAC3CK,MAAAA,YAAY,CAACE,SAAb,CAAuBE,MAAvB,CAA8B,QAA9B;AACAL,MAAAA,aAAa,CAACG,SAAd,CAAwBE,MAAxB,CAA+B,QAA/B;AACD,KAHD;AAKAP,IAAAA,YAAY,CAACF,gBAAb,CAA8B,OAA9B,EAAuC,YAAM;AAC3CM,MAAAA,iBAAiB;AACjB1B,MAAAA,uBAAuB,GAAG,IAAK,IAA/B;AACAT,MAAAA,QAAQ,CAACK,cAAT,CAAwB,eAAxB,EAAyCuB,KAAzC;AACD,KAJD;AAMAI,IAAAA,YAAY,CAACH,gBAAb,CAA8B,OAA9B,EAAuC,YAAM;AAC3CM,MAAAA,iBAAiB;AACjB1B,MAAAA,uBAAuB,GAAG,IAAK,IAA/B;AACAT,MAAAA,QAAQ,CAACK,cAAT,CAAwB,eAAxB,EAAyCuB,KAAzC;AACD,KAJD,EA5Ge,CAmHf;;AACA,QAAMW,SAAS,GAAGvC,QAAQ,CAACwC,gBAAT,CAA0B,YAA1B,CAAlB;AACA,QAAMC,QAAQ,GAAGzC,QAAQ,CAACwC,gBAAT,CAA0B,UAA1B,CAAjB;AAEAD,IAAAA,SAAS,CAACG,OAAV,CAAkB,UAAAC,WAAW,EAAI;AAC/BA,MAAAA,WAAW,CAACd,gBAAZ,CAA6B,OAA7B,EAAsC,UAAAe,CAAC,EAAI;AACzCA,QAAAA,CAAC,CAACC,cAAF;AACAJ,QAAAA,QAAQ,CAACC,OAAT,CAAiB,UAAAI,OAAO,EAAI;AAC1BA,UAAAA,OAAO,CAACV,SAAR,CAAkBC,GAAlB,CAAsB,QAAtB;AACD,SAFD;AAGArC,QAAAA,QAAQ,CAACK,cAAT,CAAwBsC,WAAW,CAACI,OAAZ,CAAoBC,EAA5C,EAAgDZ,SAAhD,CAA0DE,MAA1D,CAAiE,QAAjE;AACD,OAND;AAOD,KARD;AASD,GAjIgC;;AAmIjCW,EAAAA,MAAM,CAACpB,gBAAP,CAAwB,MAAxB,EAAgC1B,KAAhC;AACD","sourcesContent":["if (document.URL.match( /study/ )) {\n  function timer() {\n    \n    //タイマー\n    const PomodoroTimer = document.getElementById('PomodoroTimer');\n    const PomodoroStart = document.getElementById('PomodoroStart');\n\n    let startTime;\n    let timeLeft;\n    let PomodoroTimeToCountDown = 2 * 1000;\n    let timerId;\n    let isRunning = false;\n  \n    function PomodoroUpdateTimer(t) {\n      let d = new Date(t);\n      let m = d.getMinutes();\n      let s = d.getSeconds();\n      let timerString;\n      m = ('0' + m).slice(-2);\n      s = ('0' + s).slice(-2);\n      timerString = m + ':' + s; \n      PomodoroTimer.textContent = timerString;\n      document.title = timerString;\n    }\n  \n    function PomodoroCountDown() {\n      timerId = setTimeout(function() {\n        timeLeft = PomodoroTimeToCountDown - (Date.now() - startTime);\n        if (timeLeft < 0) {\n          isRunning = false;\n          PomodoroStart.textContent = 'Start';\n          clearTimeout(timerId);\n          timeLeft = 0;\n          PomodoroTimeToCountDown = 0;\n          PomodoroUpdateTimer(timeLeft);\n          document.getElementById('PomodoroOpen').click();\n          return;\n        }\n        PomodoroUpdateTimer(timeLeft);\n        PomodoroCountDown();\n      }, 10);\n    }\n  \n  \n    PomodoroStart.addEventListener('click', () => {\n      if (isRunning === false) {\n        isRunning = true;\n        PomodoroStart.textContent = 'Stop';\n        startTime = Date.now();\n        PomodoroCountDown();\n      } else {\n        isRunning = false;\n        PomodoroStart.textContent = 'Start';\n        PomodoroTimeToCountDown = timeLeft;\n        clearTimeout(timerId);\n      }\n    });\n   \n  //  min.addEventListener('click', () => {\n  //    if (isRunning === true) {\n  //      return;\n  //    }\n  //    timeToCountDown += 60 * 1000;\n  //    if (timeToCountDown >= 60 * 60 * 1000) {\n  //     timeToCountDown = 0;\n  //   }\n  //    updateTimer(timeToCountDown);\n  //  });\n   \n  //  sec.addEventListener('click', () => {\n  //   if (isRunning === true) {\n  //     return;\n  //   }\n  //    timeToCountDown += 1000;\n  //    if (timeToCountDown >= 60 * 60 * 1000) {\n  //      timeToCountDown = 0;\n  //    }\n  //    updateTimer(timeToCountDown);\n  //  });\n   \n    // reset.addEventListener('click', () => {\n    //   timeToCountDown = 25 * 60 * 1000;\n    //   updateTimer(timeToCountDown);\n    // });\n\n   \n    //モーダルウィンドウ \n    const PomodoroOpen = document.getElementById('PomodoroOpen');\n    const PomodoroRest = document.getElementById('PomodoroRest');\n    const PomodoroKeep = document.getElementById('PomodoroKeep');\n    const PomodoroModal = document.getElementById('PomodoroModal');\n    const PomodoroMask = document.getElementById('PomodoroMask');\n    \n    function removeModalWindow() {\n      PomodoroMask.classList.add('hidden');\n      PomodoroModal.classList.add('hidden');\n    }\n\n    PomodoroOpen.addEventListener('click', () => {\n      PomodoroMask.classList.remove('hidden');\n      PomodoroModal.classList.remove('hidden');\n    });\n\n    PomodoroRest.addEventListener('click', () => {\n      removeModalWindow();\n      PomodoroTimeToCountDown = 5  * 1000;\n      document.getElementById('PomodoroStart').click();\n    });\n\n    PomodoroKeep.addEventListener('click', () => {\n      removeModalWindow();\n      PomodoroTimeToCountDown = 2  * 1000;\n      document.getElementById('PomodoroStart').click();\n    });\n\n\n    //タブメニュー\n    const menuItems = document.querySelectorAll('.menu li a');\n    const contents = document.querySelectorAll('.content');\n\n    menuItems.forEach(clickedItem => {\n      clickedItem.addEventListener('click', e => {\n        e.preventDefault();\n        contents.forEach(content => {\n          content.classList.add('hidden');\n        });\n        document.getElementById(clickedItem.dataset.id).classList.remove('hidden');\n      });\n    });\n  }\n  \n  window.addEventListener('load', timer)\n}"]},"metadata":{},"sourceType":"module"}