{"ast":null,"code":"if (document.URL.match(/relax/)) {\n  var timer = function timer() {\n    //タイマー機能\n    var BoxBreathingTimer = document.getElementById('BoxBreathingTimer');\n    var BoxBreathingStart = document.getElementById('BoxBreathingStart');\n    var RemSleepTimer = document.getElementById('RemSleepTimer');\n    var RemSleepStart = document.getElementById('RemSleepStart');\n    var startTime;\n    var timeLeft;\n    var BoxBreathingTimeToCountDown = 4 * 1000;\n    var RemSleepTimeToCountDown = 1 * 1000;\n    var timerId;\n    var isRunning = false;\n    var isBreathing = true;\n    var Pausing = false;\n\n    function BoxBreathingUpdateTimer(t) {\n      var d = new Date(t);\n      var m = d.getMinutes();\n      var s = d.getSeconds();\n      var timerString;\n      m = ('0' + m).slice(-2);\n      s = ('0' + s).slice(-2);\n      timerString = m + ':' + s;\n      BoxBreathingTimer.textContent = timerString;\n      document.title = \"\\u30EA\\u30E9\\u30C3\\u30AF\\u30B9 (\".concat(timerString, \")\");\n    }\n\n    function RemSleepUpdateTimer(t) {\n      var d = new Date(t);\n      var m = d.getMinutes();\n      var s = d.getSeconds();\n      var timerString;\n      m = ('0' + m).slice(-2);\n      s = ('0' + s).slice(-2);\n      timerString = m + ':' + s;\n      RemSleepTimer.textContent = timerString;\n      document.title = \"\\u7761\\u7720\\u4E2Dzzz (\".concat(timerString, \")\");\n    }\n\n    function BoxBreathingCountDown() {\n      timerId = setTimeout(function () {\n        timeLeft = BoxBreathingTimeToCountDown - (Date.now() - startTime);\n\n        if (timeLeft < 0) {\n          isRunning = false;\n          BoxBreathingStart.textContent = 'Start';\n          clearTimeout(timerId);\n          timeLeft = 0;\n          BoxBreathingTimeToCountDown = 0;\n          BoxBreathingUpdateTimer(timeLeft);\n          document.getElementById('BoxBreathingOpen').click();\n          return;\n        }\n\n        BoxBreathingUpdateTimer(timeLeft);\n        BoxBreathingCountDown();\n      }, 10);\n    }\n\n    function RemSleepCountDown() {\n      timerId = setTimeout(function () {\n        timeLeft = RemSleepTimeToCountDown - (Date.now() - startTime);\n\n        if (timeLeft < 0) {\n          isRunning = false;\n          RemSleepStart.textContent = 'Start';\n          clearTimeout(timerId);\n          timeLeft = 0;\n          RemSleepTimeToCountDown = 0;\n          RemSleepUpdateTimer(timeLeft);\n          document.getElementById('RemSleepOpen').click();\n          return;\n        }\n\n        RemSleepUpdateTimer(timeLeft);\n        RemSleepCountDown();\n      }, 10);\n    }\n\n    BoxBreathingStart.addEventListener('click', function () {\n      if (isRunning === false) {\n        isRunning = true;\n        BoxBreathingStart.textContent = 'Stop';\n        RemSleepMenu.classList.add('pointer-events-none', 'opacity-50');\n        startTime = Date.now();\n        BoxBreathingCountDown();\n\n        if (isBreathing === true && Pausing === false) {\n          BoxBreathingProgressing.animate(1, {\n            duration: 4 * 1000\n          });\n        } else if (isBreathing === false && Pausing === false) {\n          BoxBreathingProgressing.animate(0, {\n            duration: 4 * 1000\n          });\n        } else if (Pausing === true) {\n          BoxBreathingProgressing.resume();\n        }\n      } else {\n        isRunning = false;\n        Pausing = true;\n        BoxBreathingStart.textContent = 'Start';\n        RemSleepMenu.classList.remove('pointer-events-none', 'opacity-50');\n        BoxBreathingTimeToCountDown = timeLeft;\n        clearTimeout(timerId);\n        BoxBreathingProgressing.pause();\n      }\n    });\n    RemSleepStart.addEventListener('click', function () {\n      if (isRunning === false) {\n        isRunning = true;\n        RemSleepStart.textContent = 'Stop';\n        BoxBreathingMenu.classList.add('pointer-events-none', 'opacity-50');\n        startTime = Date.now();\n        RemSleepCountDown();\n\n        if (RemSleepTimeToCountDown === 1 * 1000) {\n          RemSleepProgressing.animate(1, {\n            duration: 1 * 1000\n          });\n        } else {\n          RemSleepProgressing.resume();\n        }\n      } else {\n        isRunning = false;\n        RemSleepStart.textContent = 'Start';\n        BoxBreathingMenu.classList.remove('pointer-events-none', 'opacity-50');\n        RemSleepTimeToCountDown = timeLeft;\n        clearTimeout(timerId);\n        RemSleepProgressing.pause();\n      }\n    }); //  min.addEventListener('click', () => {\n    //    if (isRunning === true) {\n    //      return;\n    //    }\n    //    timeToCountDown += 60 * 1000;\n    //    if (timeToCountDown >= 60 * 60 * 1000) {\n    //     timeToCountDown = 0;\n    //   }\n    //    updateTimer(timeToCountDown);\n    //  });\n    //  sec.addEventListener('click', () => {\n    //   if (isRunning === true) {\n    //     return;\n    //   }\n    //    timeToCountDown += 1000;\n    //    if (timeToCountDown >= 60 * 60 * 1000) {\n    //      timeToCountDown = 0;\n    //    }\n    //    updateTimer(timeToCountDown);\n    //  });\n    // Reset.addEventListener('click', () => {\n    //   timeToCountDown = 2 * 1000;\n    //   updateTimer(timeToCountDown);\n    // });\n    //モーダルウィンドウ \n    //ボックス呼吸法\n\n    var BoxBreathingOpen = document.getElementById('BoxBreathingOpen');\n    var BoxBreathingRest = document.getElementById('BoxBreathingRest');\n    var BoxBreathingKeep = document.getElementById('BoxBreathingKeep');\n    var num3 = 0;\n    BoxBreathingOpen.addEventListener('click', function () {\n      if (isBreathing === true) {\n        document.getElementById('BoxBreathingRest').click();\n        num3++;\n        BoxBreathingTime.value = num3;\n      } else {\n        document.getElementById('BoxBreathingKeep').click();\n        num3++;\n        BoxBreathingTime.value = num3;\n      }\n    });\n    BoxBreathingKeep.addEventListener('click', function () {\n      Pausing = false;\n      isBreathing = true;\n      BoxBreathingTimeToCountDown = 4 * 1000;\n      BoxBreathingProgressing.set(0);\n      document.getElementById('BoxBreathingStart').click();\n    });\n    BoxBreathingRest.addEventListener('click', function () {\n      Pausing = false;\n      isBreathing = false;\n      BoxBreathingTimeToCountDown = 4 * 1000;\n      BoxBreathingProgressing.set(1);\n      document.getElementById('BoxBreathingStart').click();\n    }); //レム仮眠・昼寝\n\n    var RemSleepOpen = document.getElementById('RemSleepOpen');\n    var RemSleepRest = document.getElementById('RemSleepRest');\n    var RemSleepKeep = document.getElementById('RemSleepKeep');\n    var RemSleepModal = document.getElementById('RemSleepModal');\n    var RemSleepMask = document.getElementById('RemSleepMask');\n\n    function RemSleepRemoveModalWindow() {\n      RemSleepMask.classList.add('hidden');\n      RemSleepModal.classList.add('hidden');\n    }\n\n    RemSleepOpen.addEventListener('click', function () {\n      RemSleepMask.classList.remove('hidden');\n      RemSleepModal.classList.remove('hidden');\n    });\n    RemSleepRest.addEventListener('click', function () {\n      RemSleepRemoveModalWindow();\n      RemSleepTimeToCountDown = 1 * 1000;\n      RemSleepProgressing.set(0);\n      RemSleepTimer.textContent = \"15:00\";\n    });\n    RemSleepKeep.addEventListener('click', function () {\n      RemSleepRemoveModalWindow();\n      RemSleepTimeToCountDown = 1 * 1000;\n      RemSleepProgressing.set(0);\n      document.getElementById('RemSleepStart').click();\n    });\n    RemSleepMask.addEventListener('click', function () {\n      RemSleepRemoveModalWindow();\n      RemSleepTimeToCountDown = 1 * 1000;\n      RemSleepProgressing.set(0);\n      RemSleepTimer.textContent = \"15:00\";\n    }); //タブメニュー\n\n    var BoxBreathingMenu = document.getElementById('BoxBreathingMenu');\n    var RemSleepMenu = document.getElementById('RemSleepMenu');\n    var BoxBreathing = document.getElementById('BoxBreathing');\n    var RemSleep = document.getElementById('RemSleep');\n    BoxBreathingMenu.addEventListener('click', function (e) {\n      e.preventDefault();\n      RemSleep.classList.add('hidden');\n      RemSleepMenu.classList.remove('bg-green-400');\n      RemSleepMenu.classList.add('text-green-400');\n      BoxBreathing.classList.remove('hidden');\n      BoxBreathingMenu.classList.remove('text-green-600');\n      BoxBreathingMenu.classList.add('bg-green-600');\n      BoxBreathingMenu.classList.add('text-white');\n    });\n    RemSleepMenu.addEventListener('click', function (e) {\n      e.preventDefault();\n      BoxBreathing.classList.add('hidden');\n      BoxBreathingMenu.classList.add('text-green-600');\n      BoxBreathingMenu.classList.remove('bg-green-600');\n      RemSleep.classList.remove('hidden');\n      RemSleepMenu.classList.remove('text-green-400');\n      RemSleepMenu.classList.add('bg-green-400');\n      RemSleepMenu.classList.add('text-white');\n    }); //時間記録・編集・保存\n\n    var BoxBreathingTime = document.getElementById('BoxBreathingTime');\n    var BoxBreathingEdit = document.getElementById('BoxBreathingEdit');\n    var BoxBreathingSave = document.getElementById('BoxBreathingSave');\n    var RemSleepTime = document.getElementById('RemSleepTime');\n    var RemSleepEdit = document.getElementById('RemSleepEdit');\n    var RemSleepSave = document.getElementById('RemSleepSave');\n    BoxBreathingEdit.addEventListener('click', function () {\n      BoxBreathingTime.readOnly = false;\n    });\n    BoxBreathingTime.addEventListener('change', function () {\n      BoxBreathingSave.disabled = false;\n    });\n    RemSleepEdit.addEventListener('click', function () {\n      RemSleepTime.readOnly = false;\n    });\n    RemSleepTime.addEventListener('change', function () {\n      RemSleepSave.disabled = false;\n    }); //プログレスバー\n\n    var BoxBreathingProgressing = new ProgressBar.SemiCircle(BoxBreathingBar, {\n      strokeWidth: 1.5,\n      easing: 'linear',\n      color: '#FFEA82',\n      trailColor: '#eee',\n      trailWidth: 0.8,\n      svgStyle: {\n        margin: 'auto'\n      }\n    });\n    var num4 = 0;\n    var RemSleepProgressing = new ProgressBar.SemiCircle(RemSleepBar, {\n      strokeWidth: 1.5,\n      easing: 'linear',\n      color: '#FFEA82',\n      trailColor: '#eee',\n      trailWidth: 0.8,\n      svgStyle: {\n        margin: 'auto'\n      },\n      step: function step(state, bar) {\n        var RemSleepBarValue = bar.value();\n\n        if (RemSleepBarValue == 1) {\n          num4++;\n          RemSleepTime.value = num4;\n        }\n      }\n    });\n  };\n\n  window.addEventListener('load', timer);\n}","map":{"version":3,"sources":["/Users/joe/My_app/Timmick/app/javascript/Timers/relax_timer.js"],"names":["document","URL","match","timer","BoxBreathingTimer","getElementById","BoxBreathingStart","RemSleepTimer","RemSleepStart","startTime","timeLeft","BoxBreathingTimeToCountDown","RemSleepTimeToCountDown","timerId","isRunning","isBreathing","Pausing","BoxBreathingUpdateTimer","t","d","Date","m","getMinutes","s","getSeconds","timerString","slice","textContent","title","RemSleepUpdateTimer","BoxBreathingCountDown","setTimeout","now","clearTimeout","click","RemSleepCountDown","addEventListener","RemSleepMenu","classList","add","BoxBreathingProgressing","animate","duration","resume","remove","pause","BoxBreathingMenu","RemSleepProgressing","BoxBreathingOpen","BoxBreathingRest","BoxBreathingKeep","num3","BoxBreathingTime","value","set","RemSleepOpen","RemSleepRest","RemSleepKeep","RemSleepModal","RemSleepMask","RemSleepRemoveModalWindow","BoxBreathing","RemSleep","e","preventDefault","BoxBreathingEdit","BoxBreathingSave","RemSleepTime","RemSleepEdit","RemSleepSave","readOnly","disabled","ProgressBar","SemiCircle","BoxBreathingBar","strokeWidth","easing","color","trailColor","trailWidth","svgStyle","margin","num4","RemSleepBar","step","state","bar","RemSleepBarValue","window"],"mappings":"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","sourcesContent":["if (document.URL.match( /relax/ )) {\n  function timer() {\n    \n    //タイマー機能\n    const BoxBreathingTimer = document.getElementById('BoxBreathingTimer');\n    const BoxBreathingStart = document.getElementById('BoxBreathingStart');\n    const RemSleepTimer = document.getElementById('RemSleepTimer');\n    const RemSleepStart = document.getElementById('RemSleepStart');\n\n    let startTime;\n    let timeLeft;\n    let BoxBreathingTimeToCountDown = 4 * 1000;\n    let RemSleepTimeToCountDown = 1 * 1000;\n    let timerId;\n    let isRunning = false;\n    let isBreathing = true;\n    let Pausing = false;\n  \n    function BoxBreathingUpdateTimer(t) {\n      let d = new Date(t);\n      let m = d.getMinutes();\n      let s = d.getSeconds();\n      let timerString;\n      m = ('0' + m).slice(-2);\n      s = ('0' + s).slice(-2);\n      timerString = m + ':' + s; \n      BoxBreathingTimer.textContent = timerString;\n      document.title = `リラックス (${timerString})`;\n    }\n\n    function RemSleepUpdateTimer(t) {\n      let d = new Date(t);\n      let m = d.getMinutes();\n      let s = d.getSeconds();\n      let timerString;\n      m = ('0' + m).slice(-2);\n      s = ('0' + s).slice(-2);\n      timerString = m + ':' + s; \n      RemSleepTimer.textContent = timerString;\n      document.title = `睡眠中zzz (${timerString})`;\n    }\n  \n    function BoxBreathingCountDown() {\n      timerId = setTimeout(function() {\n        timeLeft = BoxBreathingTimeToCountDown - (Date.now() - startTime);\n        if (timeLeft < 0) {\n          isRunning = false;\n          BoxBreathingStart.textContent = 'Start';\n          clearTimeout(timerId);\n          timeLeft = 0;\n          BoxBreathingTimeToCountDown = 0;\n          BoxBreathingUpdateTimer(timeLeft);\n          document.getElementById('BoxBreathingOpen').click();\n          return;\n        }\n        BoxBreathingUpdateTimer(timeLeft);\n        BoxBreathingCountDown();\n      }, 10);\n    }\n    \n    function RemSleepCountDown() {\n      timerId = setTimeout(function() {\n        timeLeft = RemSleepTimeToCountDown - (Date.now() - startTime);\n        if (timeLeft < 0) {\n          isRunning = false;\n          RemSleepStart.textContent = 'Start';\n          clearTimeout(timerId);\n          timeLeft = 0;\n          RemSleepTimeToCountDown = 0;\n          RemSleepUpdateTimer(timeLeft);\n          document.getElementById('RemSleepOpen').click();\n          return;\n        }\n        RemSleepUpdateTimer(timeLeft);\n        RemSleepCountDown();\n      }, 10);\n    }\n  \n  \n    BoxBreathingStart.addEventListener('click', () => {\n      if (isRunning === false) {\n        isRunning = true;\n        BoxBreathingStart.textContent = 'Stop';\n        RemSleepMenu.classList.add('pointer-events-none', 'opacity-50');\n        startTime = Date.now();\n        BoxBreathingCountDown();\n        if (isBreathing === true && Pausing === false) {\n          BoxBreathingProgressing.animate(1, {duration: 4 * 1000});\n        } else if (isBreathing === false && Pausing === false) {\n          BoxBreathingProgressing.animate(0, {duration: 4 * 1000});\n        } else if (Pausing === true) {\n          BoxBreathingProgressing.resume();\n        }\n      } else {\n        isRunning = false;\n        Pausing = true;\n        BoxBreathingStart.textContent = 'Start';\n        RemSleepMenu.classList.remove('pointer-events-none', 'opacity-50');\n        BoxBreathingTimeToCountDown = timeLeft;\n        clearTimeout(timerId);\n        BoxBreathingProgressing.pause();\n      }\n    });\n\n    RemSleepStart.addEventListener('click', () => {\n      if (isRunning === false) {\n        isRunning = true;\n        RemSleepStart.textContent = 'Stop';\n        BoxBreathingMenu.classList.add('pointer-events-none', 'opacity-50');\n        startTime = Date.now();\n        RemSleepCountDown();\n        if (RemSleepTimeToCountDown === 1 * 1000) {\n          RemSleepProgressing.animate(1, {duration: 1 * 1000});\n        } else {\n          RemSleepProgressing.resume();\n        }\n      } else {\n        isRunning = false;\n        RemSleepStart.textContent = 'Start';\n        BoxBreathingMenu.classList.remove('pointer-events-none', 'opacity-50');\n        RemSleepTimeToCountDown = timeLeft;\n        clearTimeout(timerId);\n        RemSleepProgressing.pause();\n      }\n    });\n   \n  //  min.addEventListener('click', () => {\n  //    if (isRunning === true) {\n  //      return;\n  //    }\n  //    timeToCountDown += 60 * 1000;\n  //    if (timeToCountDown >= 60 * 60 * 1000) {\n  //     timeToCountDown = 0;\n  //   }\n  //    updateTimer(timeToCountDown);\n  //  });\n   \n  //  sec.addEventListener('click', () => {\n  //   if (isRunning === true) {\n  //     return;\n  //   }\n  //    timeToCountDown += 1000;\n  //    if (timeToCountDown >= 60 * 60 * 1000) {\n  //      timeToCountDown = 0;\n  //    }\n  //    updateTimer(timeToCountDown);\n  //  });\n   \n    // Reset.addEventListener('click', () => {\n    //   timeToCountDown = 2 * 1000;\n    //   updateTimer(timeToCountDown);\n    // });\n\n   \n    //モーダルウィンドウ \n    //ボックス呼吸法\n    const BoxBreathingOpen = document.getElementById('BoxBreathingOpen');\n    const BoxBreathingRest = document.getElementById('BoxBreathingRest');\n    const BoxBreathingKeep = document.getElementById('BoxBreathingKeep');\n    let num3 = 0;\n  \n\n    BoxBreathingOpen.addEventListener('click', () => {\n      if (isBreathing === true) {\n        document.getElementById('BoxBreathingRest').click();\n        num3 ++;\n        BoxBreathingTime.value = num3;\n      } else {\n        document.getElementById('BoxBreathingKeep').click();\n        num3 ++;\n        BoxBreathingTime.value = num3;\n      }\n    });\n\n    BoxBreathingKeep.addEventListener('click', () => {\n      Pausing = false;\n      isBreathing = true;\n      BoxBreathingTimeToCountDown = 4 * 1000;\n      BoxBreathingProgressing.set(0);\n      document.getElementById('BoxBreathingStart').click();\n    });\n    \n    BoxBreathingRest.addEventListener('click', () => {\n      Pausing = false;\n      isBreathing = false;\n      BoxBreathingTimeToCountDown = 4 * 1000;\n      BoxBreathingProgressing.set(1);\n      document.getElementById('BoxBreathingStart').click();\n    });\n\n    //レム仮眠・昼寝\n    const RemSleepOpen = document.getElementById('RemSleepOpen');\n    const RemSleepRest = document.getElementById('RemSleepRest');\n    const RemSleepKeep = document.getElementById('RemSleepKeep');\n    const RemSleepModal = document.getElementById('RemSleepModal');\n    const RemSleepMask = document.getElementById('RemSleepMask');\n\n    function RemSleepRemoveModalWindow() {\n      RemSleepMask.classList.add('hidden');\n      RemSleepModal.classList.add('hidden');\n    }\n\n    RemSleepOpen.addEventListener('click', () => {\n      RemSleepMask.classList.remove('hidden');\n      RemSleepModal.classList.remove('hidden');\n    });\n\n    RemSleepRest.addEventListener('click', () => {\n      RemSleepRemoveModalWindow();\n      RemSleepTimeToCountDown = 1 * 1000;\n      RemSleepProgressing.set(0);\n      RemSleepTimer.textContent = \"15:00\";\n    });\n\n    RemSleepKeep.addEventListener('click', () => {\n      RemSleepRemoveModalWindow();\n      RemSleepTimeToCountDown = 1 * 1000;\n      RemSleepProgressing.set(0);\n      document.getElementById('RemSleepStart').click();\n    });\n\n    RemSleepMask.addEventListener('click', () => {\n      RemSleepRemoveModalWindow();\n      RemSleepTimeToCountDown = 1 * 1000;\n      RemSleepProgressing.set(0);\n      RemSleepTimer.textContent = \"15:00\";\n    });\n\n\n\n    //タブメニュー\n    const BoxBreathingMenu = document.getElementById('BoxBreathingMenu');\n    const RemSleepMenu = document.getElementById('RemSleepMenu');\n    const BoxBreathing = document.getElementById('BoxBreathing');\n    const RemSleep = document.getElementById('RemSleep');\n\n    BoxBreathingMenu.addEventListener('click', (e) => {\n      e.preventDefault();\n      RemSleep.classList.add('hidden');\n      RemSleepMenu.classList.remove('bg-green-400');\n      RemSleepMenu.classList.add('text-green-400');\n      BoxBreathing.classList.remove('hidden');\n      BoxBreathingMenu.classList.remove('text-green-600');\n      BoxBreathingMenu.classList.add('bg-green-600');\n      BoxBreathingMenu.classList.add('text-white');\n    });\n    \n    RemSleepMenu.addEventListener('click', (e) => {\n      e.preventDefault();\n      BoxBreathing.classList.add('hidden');\n      BoxBreathingMenu.classList.add('text-green-600');\n      BoxBreathingMenu.classList.remove('bg-green-600');\n      RemSleep.classList.remove('hidden');\n      RemSleepMenu.classList.remove('text-green-400');\n      RemSleepMenu.classList.add('bg-green-400');\n      RemSleepMenu.classList.add('text-white');\n    });\n\n    //時間記録・編集・保存\n    const BoxBreathingTime = document.getElementById('BoxBreathingTime');\n    const BoxBreathingEdit = document.getElementById('BoxBreathingEdit');\n    const BoxBreathingSave = document.getElementById('BoxBreathingSave');\n    const RemSleepTime = document.getElementById('RemSleepTime');\n    const RemSleepEdit = document.getElementById('RemSleepEdit');\n    const RemSleepSave = document.getElementById('RemSleepSave');\n\n    BoxBreathingEdit.addEventListener('click', () => {\n      BoxBreathingTime.readOnly = false;\n    })\n\n    BoxBreathingTime.addEventListener('change', () => {\n      BoxBreathingSave.disabled = false;\n    })\n\n    RemSleepEdit.addEventListener('click', () => {\n      RemSleepTime.readOnly = false;\n    })\n\n    RemSleepTime.addEventListener('change', () => {\n      RemSleepSave.disabled = false;\n    })\n\n    //プログレスバー\n    const BoxBreathingProgressing = new ProgressBar.SemiCircle(BoxBreathingBar, {\n      strokeWidth: 1.5,\n      easing: 'linear',\n      color: '#FFEA82',\n      trailColor: '#eee',\n      trailWidth: 0.8,\n      svgStyle: {margin: 'auto'},\n    });\n    \n    let num4 = 0;\n    const RemSleepProgressing = new ProgressBar.SemiCircle(RemSleepBar, {\n      strokeWidth: 1.5,\n      easing: 'linear',\n      color: '#FFEA82',\n      trailColor: '#eee',\n      trailWidth: 0.8,\n      svgStyle: {margin: 'auto'},\n      step: (state, bar) => {\n        const RemSleepBarValue = bar.value();\n        if (RemSleepBarValue == 1) {\n          num4++;\n          RemSleepTime.value = num4;\n        }\n      }\n    });    \n  }\n  \n  window.addEventListener('load', timer)\n}"]},"metadata":{},"sourceType":"module"}